<div class="container">
<h2>Shopping Cart</h2>
<ng-container *ngIf="cart.length == 0; else showCart">
    <h4>No items in your cart. <a routerLink="/products">Click here to browse for some!</a></h4>
</ng-container>

<ng-template #showCart>
    <p>{{cart.length}} items in your cart</p>
    <div class="cart-table" *ngIf="cart.length != 0">
        <table class="table">
            <thead>
                <th>Image</th>
                <th>Name</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>Total</th>
            </thead>
            <tbody>
                <tr *ngFor="let entry of cart; let i = index">
                    <td>{{entry.image}}</td>
                    <td>{{entry.name}}</td>
                    <td><input type="number" [(ngModel)] = entry.quantity step="1" (change)="updateTotal(i)" min="1"></td>
                    <td>${{entry.price}}</td>
                    <td>${{entry.total.toFixed(2)}}</td>
                    <td (click)="removeItem(i)"><span class="delete">X</span></td>
                </tr>
            </tbody>
        </table>
        <div id="grand-total">
            <p><strong>Grand Total: ${{getGrandTotal().toFixed(2)}}</strong></p>
        </div>
        <div id="bottom-links" class="d-flex justify-content-between">
                <a routerLink="/products">&larr; Back to Shopping</a>
                <a class="btn btn-danger" routerLink="/checkout" role="button">Checkout</a>
        </div>
    </div>
</ng-template>
</div>